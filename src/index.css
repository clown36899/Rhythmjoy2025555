/* 2026 Pure Semantic CSS Layers Definition */
@layer base, components, utilities;

/* CSS ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë° ìœ í‹¸ë¦¬í‹° ì‹œìŠ¤í…œ - @importëŠ” ë§¨ ìœ„ì— ì™€ì•¼ í•¨ */
@import './styles/base.css' layer(base);
@import './styles/utilities.css' layer(utilities);
@import './styles/shared/loading.css' layer(components);
@import './styles/shared/error.css' layer(components);
@import './styles/shared/links.css' layer(components);
@import './styles/components/DatePickerTheme.css' layer(components);

@layer components {

  /* ëª¨ë°”ì¼ ì „ìš©: 650px ê³ ì • - ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
  /* html, body styles moved to base.css */
  #root {
    max-width: 650px;
    margin: 0 auto;
    width: 100% !important;
    min-height: 100svh;
  }

  /* ğŸ–¥ï¸ Desktop Support: 650px fixed width (Base rule applies) */
  /* @media (min-width: 769px) removed to enforce 650px */

  /* ğŸ“ Learning/Archive Route: Full Width (Structural Isolation) */
  html.layout-wide-mode,
  html.layout-wide-mode body,
  html.layout-wide-mode #root {
    max-width: none !important;
    margin: 0 !important;
    width: 100% !important;
    height: 100svh !important;
    overflow: hidden !important;
  }

  /* ğŸ“± Mobile PWA Portrait Lock (Fallback for iOS) */
  @media screen and (orientation: landscape) {
    body.mobile-pwa {
      transform: rotate(-90deg);
      transform-origin: left top;
      width: 100vh;
      height: 100vw;
      overflow-x: hidden;
      position: absolute;
      top: 100%;
      left: 0;
    }
  }

  /* Redundant body style removed */

  /* ===== Global Header Styles ===== */
  .global-header {
    /* position: sticky;
    top: 0; */
    /* left: 0; */
    display: flex;
    width: 100%;
    margin: 0 auto;
    backdrop-filter: blur(10px);
    /* height: 61px; */
    /* background-color: #000000; */
    /* border-bottom: 1px solid #2b2b2b; */
    z-index: 19;
    /* box-shadow: -1px 4px 25px -5px rgb(0 0 0 / 33%); */
    flex-direction: column;
    justify-content: center;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.4s ease-out forwards;
    opacity: 0;
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.9);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* í…ìŠ¤íŠ¸/ì´ë¯¸ì§€ ì„ íƒ ë°©ì§€ - ë‹¬ë ¥, ì´ë²¤íŠ¸, ë°”í…€ë©”ë‰´ */
  .no-select {
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    -webkit-touch-callout: none !important;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  /* ì´ë¯¸ì§€ ë“œë˜ê·¸ ë°©ì§€ ë° ì„ íƒ ë°©ì§€ ê°•í™” */
  .no-select img,
  img.no-drag {
    pointer-events: none;
    -webkit-user-drag: none !important;
    -khtml-user-drag: none !important;
    -moz-user-drag: none !important;
    -o-user-drag: none !important;
    user-drag: none !important;
  }

  /* ë‹¬ë ¥ ë‚ ì§œ ì¹¸ - ë™ì  ë†’ì´ (grid-auto-rowsë¡œ ì œì–´) */
  .calendar-day-cell {
    /* heightëŠ” grid-auto-rowsë¡œ ì œì–´ë¨ */
    min-height: 30px;
    padding: 1px 2px;
    border-right: 1px solid var(--calendar-vertical-border);
    border-bottom: 1px solid var(--calendar-week-border);
  }

  /* íƒœë¸”ë¦¿ ì´ìƒì—ì„œëŠ” íŒ¨ë”©ë§Œ ì¡°ì • */
  @media (min-width: 650px) {
    .calendar-day-cell {
      /* heightëŠ” grid-auto-rowsë¡œ ì œì–´ë¨ */
      min-height: 30px;
      padding: 1px;
      border-right: 1px solid var(--calendar-vertical-border);
      border-bottom: 1px solid var(--calendar-week-border);
    }
  }

  /* ìš”ì¼ í—¤ë” ì…€ - ë‚ ì§œì™€ ë™ì¼í•œ border ìŠ¤íƒ€ì¼ */
  .calendar-day-header {
    border-right: 1px solid var(--calendar-vertical-border);
    border-bottom: 1px solid var(--calendar-week-border);
    background-color: var(--bg-surface-2);
  }

  /* react-datepicker styles moved to DatePickerTheme.css */



  /* [Standard Fix] ì „ì—­ ëª¨ë‹¬ ì˜¤í”ˆ ì‹œ ë°°ê²½ ì œìŠ¤ì²˜ ê°„ì„­ ì›ì²œ ì°¨ë‹¨ */
  html.modal-open,
  html.modal-open body {
    overflow: hidden !important;
    /* height: 100svh !important; // Removed to prevent scroll reset */
    touch-action: auto;
  }

  /* ëª¨ë‹¬ ë‚´ë¶€ì˜ ìŠ¤í¬ë¡¤ì€ í—ˆìš© */
  .modal-open .modal-content-area,
  .modal-open .content-area,
  .modal-open .scroll-list,
  .modal-open .custom-scrollbar,
  .modal-open [class*="content"],
  .modal-open [class*="scroll"] {
    touch-action: auto !important;
    overscroll-behavior: contain !important;
    pointer-events: auto !important;
  }
}