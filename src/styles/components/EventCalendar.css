/* ==========================================================================
   EventCalendar Scope (ECAL-)
   ========================================================================== */
/* EventCalendar.css - 이벤트 달력 전용 스타일 */

/* ===== CSS 변수 정의 ===== */
/* ===== 기본 리셋 및 유틸리티 ===== */
.EventCalendar {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ===== 컨테이너 클래스 ===== */
.EventCalendar .ECAL-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    background-color: var(--calendar-bg);
    border-radius: 0;
    padding: 0;
}

.EventCalendar .ECAL-wrapper {
    width: 100%;
    touch-action: pan-y;

    top: 0;
    left: 0;
    right: 0;
    z-index: 5;
    /* 글로벌 헤더보다 낮게 설정 */
}

/* ===== 달력 날짜 셀 특수 스타일 ===== */
.EventCalendar .ECAL-date-number {
    font-weight: 700;
    z-index: 30;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: var(--date-font-size, 14px);
}

.EventCalendar .ECAL-date-number-fullscreen {
    position: absolute;
    top: 4px;
    left: 4px;
    z-index: 30;
    font-weight: 700;
    color: var(--text-muted);
    /* Default text color for background */
    display: flex !important;
    flex-direction: row !important;
    align-items: baseline !important;
    white-space: nowrap !important;
    gap: 2px;
}

.EventCalendar .ECAL-date-number-today {
    opacity: 1;

    /* Bold Badge Style for Today */
    background-color: var(--color-blue-500);
    color: var(--text-inverse);
    border-radius: 6px;
    padding: 2px 8px;
    box-shadow: var(--shadow-sm);

    font-size: 12px;
    font-weight: 800;
    width: auto;
    min-width: 24px;
    max-width: 100%;
    white-space: nowrap;

    /* Center text in badge */
    display: flex;
    align-items: center;
    justify-content: center;
}


/* Clean up previous Zebra styling */

/* Week Card Design Implementation */
.EventCalendar .ECAL-grid-container {
    display: grid;
    border-radius: 0 0 0.9rem 0.9rem;
    grid-template-columns: repeat(7, minmax(0, 1fr));
    padding: 5px;
    /* Week Separation: Gap between rows */
    column-gap: 0;
    row-gap: 6px;

    border-top: none;
    overflow: hidden;
    padding-bottom: 6px;
    /* Bottom padding for last row */
    background-color: var(--calendar-bg);
    /* Gap color */
}

/* Individual Cell Styling for Card Look */
.EventCalendar .ECAL-cell-fullscreen {
    background-color: var(--bg-modal);
    border-bottom: 1px solid var(--border-glass);
    border-right: 1px solid var(--border-glass);
    min-height: var(--cell-height, 100px);
    height: 100%;
}

.EventCalendar .ECAL-date-number-fullscreen {
    position: absolute;
    top: 4px;
    left: 4px;
    z-index: 30;
    font-weight: 700;
    font-size: 12px;
    color: var(--text-tertiary);
    /* Default gray-500 */
    display: flex !important;
    flex-direction: row !important;
    align-items: baseline !important;
    white-space: nowrap !important;
    gap: 2px;
}

.EventCalendar .ECAL-date-number-fullscreen:not(.ECAL-date-number-today) {
    color: var(--text-secondary);
    /* Default gray-200 */
}

/* Remove bottom border for Card look consistency */
.EventCalendar .ECAL-cell-fullscreen {
    border-bottom: none;
}

/* First Column: Rounded Left */
.EventCalendar .ECAL-cell-fullscreen:nth-child(7n+1) {
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
    border-left: 1px solid var(--border-glass);
    /* Left border */
}

/* Last Column: Rounded Right, No Right Border */
.EventCalendar .ECAL-cell-fullscreen:nth-child(7n) {
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
    border-right: 1px solid var(--border-glass);
    /* Right border */
}

/* Remove default background from base if strictly enforcing card look */
.EventCalendar .ECAL-cell-base {
    background-color: var(--calendar-cell-bg);
}

.EventCalendar .ECAL-weekday-item {
    position: relative;
    text-align: center;
    color: var(--text-tertiary);
    font-size: 0.875rem;
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    box-sizing: border-box;
}

/* Gradient overlay on top of solid border for fade effect */
.EventCalendar .ECAL-weekday-item::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    width: 1px;
    height: 100%;
    background: linear-gradient(to top, var(--calendar-vertical-border) 0%, transparent 100%);
    pointer-events: none;
    z-index: 1;
    /* Ensure gradient appears above border */
}

/* Remove border and gradient from last weekday item */
.EventCalendar .ECAL-weekday-item:nth-child(7) {
    border-right: none;
}

.EventCalendar .ECAL-weekday-item:nth-child(7)::after {
    display: none;
}

.EventCalendar .ECAL-cell-base {
    position: relative;
    user-select: none;
    transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    background-color: var(--calendar-cell-bg);
    /* Ensure cells have a background so gaps show as borders */
}

.EventCalendar .ECAL-cell-hoverable:hover {
    background-color: var(--bg-hover);
    /* gray-700 */
}

.EventCalendar .ECAL-cell-content {
    width: 100%;
    height: 100%;
    cursor: pointer;
    position: relative;
    overflow: visible;
    user-select: none;
}

.EventCalendar .ECAL-cell-selected {
    color: var(--text-inverse);
    z-index: 10;
    background-color: var(--color-blue-500);
}

.EventCalendar .ECAL-cell-default {
    color: var(--text-secondary);
    /* gray-300 */
}

/* ===== Event Bar Styles (Month View) ===== */
/* .ECAL-event-bar */
.EventCalendar .ECAL-event-bar {
    position: absolute;
    left: 0;
    right: 0;
    transition: opacity 0.2s, transform 0.2s, background-color 0.2s;
}

.EventCalendar .ECAL-event-bar-inner {
    display: flex;
    align-items: center;
    padding-left: 6px;
    padding-right: 6px;
    overflow: hidden;
    transition: opacity 0.2s, transform 0.2s, background-color 0.2s, color 0.2s;
}

/* .ECAL-event-chip */
.EventCalendar .ECAL-event-chip {
    border-radius: 9999px;
    font-size: 10px;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: transform 0.2s, background-color 0.2s, color 0.2s, box-shadow 0.2s;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    color: var(--text-inverse);
    height: 16px;
    line-height: 16px;
    box-shadow: var(--shadow-sm);
}

/* .ECAL-event-bar-segment */
.EventCalendar .ECAL-event-bar-segment {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    transition: background-color 0.2s, color 0.2s, left 0.2s, background-color 0.2s, opacity 0.2s;
}

.EventCalendar .ECAL-event-bar-segment.rounded-full {
    border-radius: 9999px;
}

.EventCalendar .ECAL-event-bar-segment.rounded-l {
    border-top-left-radius: 9999px;
    border-bottom-left-radius: 9999px;
}

.EventCalendar .ECAL-event-bar-segment.rounded-r {
    border-top-right-radius: 9999px;
    border-bottom-right-radius: 9999px;
}

.EventCalendar .ECAL-event-bar-segment.faded {
    opacity: 0.2;
    height: 0.375rem;
}

/* ===== Semantic Layouts (Refactored) ===== */
.EventCalendar .ECAL-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 1rem;
    margin-bottom: 0.5rem;
}

.EventCalendar .ECAL-header-title {
    font-size: 1.25rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.EventCalendar .ECAL-nav-group {
    display: flex;
    gap: 0.5rem;
}

.EventCalendar .ECAL-nav-button {
    padding: 0.5rem;
    background: transparent;
    border: 0;
    cursor: pointer;
    color: var(--text-tertiary);
    /* text-gray-400 */
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    transition: color 0.15s ease, background-color 0.15s ease;
}

.EventCalendar .ECAL-nav-button:hover {
    color: var(--text-primary);
    background-color: var(--bg-hover);
}

.EventCalendar .ECAL-nav-icon {
    font-size: 1.25rem;
}

.EventCalendar .ECAL-grid-wrapper {
    flex: 1;
    overflow-y: auto;
    min-height: 0;
}

.EventCalendar .ECAL-state-hidden {
    display: none !important;
}

.EventCalendar .ECAL-text-secondary {
    color: var(--text-secondary);
}

.EventCalendar .ECAL-text-muted {
    color: var(--text-muted);
}

.EventCalendar .ECAL-text-primary {
    color: var(--text-primary);
}

/* ===== Semantic Event Colors ===== */
.EventCalendar .ECAL-event-bg-red-500 {
    background-color: var(--genre-red-500);
}

.EventCalendar .ECAL-event-bg-orange-500 {
    background-color: var(--genre-orange-500);
}

.EventCalendar .ECAL-event-bg-amber-500 {
    background-color: var(--genre-amber-500);
}

.EventCalendar .ECAL-event-bg-yellow-500 {
    background-color: var(--genre-yellow-500);
}

.EventCalendar .ECAL-event-bg-lime-500 {
    background-color: var(--genre-lime-500);
}

.EventCalendar .ECAL-event-bg-green-500 {
    background-color: var(--genre-green-500);
}

.EventCalendar .ECAL-event-bg-emerald-500 {
    background-color: var(--genre-emerald-500);
}

.EventCalendar .ECAL-event-bg-teal-500 {
    background-color: var(--genre-teal-500);
}

.EventCalendar .ECAL-event-bg-cyan-500 {
    background-color: var(--genre-cyan-500);
}

.EventCalendar .ECAL-event-bg-sky-500 {
    background-color: var(--genre-sky-500);
}

.EventCalendar .ECAL-event-bg-blue-500 {
    background-color: var(--genre-blue-500);
}

.EventCalendar .ECAL-event-bg-indigo-500 {
    background-color: var(--genre-indigo-500);
}

.EventCalendar .ECAL-event-bg-violet-500 {
    background-color: var(--genre-violet-500);
}

.EventCalendar .ECAL-event-bg-purple-500 {
    background-color: var(--genre-purple-500);
}

.EventCalendar .ECAL-event-bg-fuchsia-500 {
    background-color: var(--genre-fuchsia-500);
}

.EventCalendar .ECAL-event-bg-pink-500 {
    background-color: var(--genre-pink-500);
}

.EventCalendar .ECAL-event-bg-rose-500 {
    background-color: var(--genre-rose-500);
}

.EventCalendar .ECAL-event-bg-red-600 {
    background-color: var(--color-red-600);
}

.EventCalendar .ECAL-event-bg-orange-600 {
    background-color: var(--color-orange-600);
}

.EventCalendar .ECAL-event-bg-amber-600 {
    background-color: var(--color-amber-600);
}

.EventCalendar .ECAL-event-bg-yellow-600 {
    background-color: var(--color-yellow-500);
    /* No specific 600, fallback to 500 */
}

.EventCalendar .ECAL-event-bg-lime-600 {
    background-color: var(--color-lime-600);
}

.EventCalendar .ECAL-event-bg-green-600 {
    background-color: var(--color-green-600);
}

.EventCalendar .ECAL-event-bg-emerald-600 {
    background-color: var(--color-emerald-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-teal-600 {
    background-color: var(--color-teal-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-cyan-600 {
    background-color: var(--color-cyan-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-sky-600 {
    background-color: var(--color-sky-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-blue-600 {
    background-color: var(--color-blue-600);
}

.EventCalendar .ECAL-event-bg-indigo-600 {
    background-color: var(--color-indigo-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-violet-600 {
    background-color: var(--color-violet-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-purple-600 {
    background-color: var(--color-purple-600);
}

.EventCalendar .ECAL-event-bg-fuchsia-600 {
    background-color: var(--color-fuchsia-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-pink-600 {
    background-color: var(--color-pink-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-rose-600 {
    background-color: var(--color-rose-500);
    /* Fallback */
}

.EventCalendar .ECAL-event-bg-purple-400 {
    background-color: var(--genre-purple-400);
}

.EventCalendar .ECAL-event-bg-blue-400 {
    background-color: var(--genre-blue-400);
}

.EventCalendar .ECAL-event-bg-gray-500 {
    background-color: var(--color-gray-500);
}