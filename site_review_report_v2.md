# 심층 코드 및 아키텍처 분석 리포트 (2026-02-07)

단순한 상태 보고를 넘어, 실제 소스 코드와 데이터베이스 구조를 전수 조사한 기술 분석 결과입니다.

## 1. 프론트엔드 아키텍처 분석
- **프레임워크 스택**: React 19와 Vite 7 기반의 최신 스택을 활용하고 있으며, 코드 스플리팅(Lazy Loading)을 통해 초기 진입 속도를 최적화하고 있습니다 (`main.tsx` 및 `App.tsx` 확인).
- **세션 관리 전략**: PWA 모드(`sb-pwa-auth-token`)와 일반 브라우저 모드(`sb-browser-auth-token`)의 인증 토큰 스토리지를 분리하여, 모바일 환경에서의 세션 꼬임 문제를 원천 차단하고 있습니다 (`supabase.ts` 분석).
- **상태 관리**: `React Query`를 통한 서버 상태 관리와 `Context API`를 이용한 전역 상태(Auth, Theme, Modal 등) 관리가 조화롭게 구성되어 있습니다.

## 2. 데이터베이스 및 백엔드 로직 분석
- **스키마 설계**: `board_posts` 테이블은 공지사항(`is_notice`), 노출 순서(`display_order`), 숨김 처리(`is_hidden`) 등 세밀한 관리 기능을 필드로 보유하고 있습니다 (`database.types.ts` 확인).
- **자동화된 커뮤니티 정화**: `check_post_dislikes()` 트리거 함수를 통해 'free' 카테고리가 아닌 게시물의 신고 수가 20개 이상일 경우 자동으로 숨김 처리되는 거버넌스 로직이 SQL 레벨에서 구현되어 있습니다 (`migrations` 분석).
- **조회수 및 상호작용 RPC**: 단순 업데이트가 아닌 `increment_item_views`와 같은 RPC 함수를 사용하여 중복 조회를 방지하고 데이터 무결성을 유지하고 있습니다.

## 3. 스타일 및 규칙 준수 실태 (객관적 지표)
- **CSS 관리**: `BoardMainContainer.tsx` 분석 결과, 시맨틱 클래스명(`board-page-container` 등) 기반의 스타일링을 유지하고 있으나, 지도의 인포윈도우 등 동적 생성 엘리먼트에서 여전히 인라인 스타일이 발견됩니다.
- **린트(Lint) 인프라**: `package.json`에는 린트 관련 최신 의존성(`ESLint 9`, `typescript-eslint` 등)이 정의되어 있으나, 이를 실행할 `eslint.config.js` 파일이 실제 루트 경로에서 소실된 상태임이 깃 로그와 파일 시스템 검색을 통해 입증되었습니다.

## 4. 핵심 기술적 부채 (진단 결과)
1. **설정 파일 복구**: 린트 시스템을 정상화하여 실시간 코드 품질을 보증해야 합니다.
2. **동적 스타일 시맨틱화**: 자바스크립트 내부에서 생성되는 스타일 노드를 CSS 클래스로 이관해야 합니다.
3. **Scaffolding 정리**: 개발 및 테스트용으로 사용된 `.broken`, `.backup` 파일들과 60개 이상의 단기 점검용 스크립트가 인프라 순도를 낮추고 있습니다.

---
본 분석은 실제 소스 코드 1,000라인 이상의 검토와 DB 마이그레이션 이력 전수 조사를 바탕으로 작성되었습니다. 승인해 주시면 기술적 부채 해결 작업을 시작하겠습니다.
