<!-- 
⚠️ 버전 업데이트 시 필수 수정 파일 3개:
1. package.json (version)
2. CHANGELOG.md (이 파일)
3. src/data/changelog.ts (개발일지 탭 반영)
-->

# 변경 이력 (버전별)

## [2.12.2] - 2025-12-24
- **Analytics**: Google Analytics User ID 추적 기능 구현
  - 로그인한 사용자를 여러 기기/브라우저에서도 동일한 사용자로 인식
  - 쿠키 삭제 후 재로그인해도 정확한 사용자 추적
  - 실제 사용자 수 측정 정확도 향상
- **Analytics**: 루트 경로("/") 페이지뷰 필터링
  - "/v2"로 즉시 리다이렉트되는 루트 경로의 불필요한 페이지뷰 제거
  - Google Analytics 데이터 정확도 개선

## [2.12.1] - 2025-12-23
- **UI Fix**: 이미지 크롭 모달 버튼 크기 개선
  - 작은 화면에서 버튼 텍스트가 읽을 수 있는 최소 크기 유지
  - 반응형 미디어 쿼리 추가 (640px, 360px 브레이크포인트)
- **UI Fix**: 헤더 크기 무한 축소 방지
  - 로고 최소 높이 30px 설정
  - 타이틀 최소 폰트 크기 0.95rem 설정
  - 타이틀 줄바꿈 방지 (white-space: nowrap)
- **Enhancement**: 이미지 크롭 모달 "원본 복구" 버튼 제거
  - "되돌리기" 버튼만 유지하여 UI 단순화

## [2.12.0] - 2025-12-23
- **Feature**: 이벤트 카테고리 체계 개편 (2단계 → 3단계)
  - 기존: 행사(Event) / 강습(Class)
  - 신규: 행사(Event) / 강습(Class) / 동호회(Club)
  - 동호회 카테고리 신설로 동호회 강습 독립 섹션화
- **Feature**: 강습 장르 체계 개선
  - '동호회강습' 장르를 독립 카테고리로 승격
  - '솔로' → '솔로재즈'로 명칭 변경
  - Class/Club 장르 리스트: 린디합, 솔로재즈, 발보아, 블루스, 팀원모집
- **Enhancement**: 이벤트 등록/수정 UI 개선
  - 카테고리 미선택 시 장르 리스트 숨김 처리
  - 3개 카테고리 버튼 레이아웃 (행사/강습/동호회)
  - 동호회 카테고리 전용 색상 테마 적용 (녹색)
- **Fix**: 카테고리 변경 시 실시간 UI 업데이트 개선
  - 부분 업데이트 로직에 카테고리 필터 재적용
  - 섹션 간 이동 시 즉시 반영되도록 수정

## [2.11.1] - 2025-12-23
- **Enhancement**: 모바일 쉘(MobileShell) 헤더 UX 개선
  - 관리자용 상단 헤더에 실시간 접속자 및 총 가입자 수 표시 기능 통합
  - 아이콘 디자인 시스템(Remix Icon) 복구 및 통일성 강화
- **Fix**: 검색(GlobalSearch) 모달 호출 키값 오류 수정
- **Fix**: 바텀 네비게이션 및 햄버거 메뉴(SideDrawer) 렌더링 이슈 해결

## [2.11.0] - 2025-12-23
- **Feature**: 실시간 접속자 추적 시스템 추가 (관리자 전용)
  - Supabase Presence 기반 (30초 자동 heartbeat)
  - 햄버거 메뉴 → ADMIN ONLY → "현재 접속자"
  - 로그인 사용자 (닉네임, 프로필, 접속 시간) 및 비로그인 사용자 카운트 표시
  - 실시간 업데이트 (들어오고 나가는 사용자 즉시 반영)

## [2.10.7] - 2025-12-23
- **Analytics**: 이벤트 등록(Create) 및 수정(Update) 시 트래킹 이벤트 추가 (제목/ID 포함)
- **Fix**: 빌보드 키오스크 네트워크 연결 폭주 해결 (재접속 대기 시간 5초 → 60초 연장)
- **Update**: 가이드 페이지 연습실 등록 정책 변경 (누구나 등록 가능)

## [2.10.6] - 2025-12-23
- **Security Check**: 이벤트 수정/삭제 버튼 권한 검사 강화 (작성자 외 버튼 숨김)
- **Fix**: 이벤트 삭제 시 관리자 권한 및 작성자 권한 로직 개선 (403 오류 해결)
- **Refactor**: 불필요한 이벤트 삭제 로직 간소화 및 RLS 정책 최적화

## [2.10.5] - 2025-12-23
- **Feature**: 이벤트 상세 모달 내 장르 수정 기능 고도화
  - **카테고리 기반 장르 추천**: 행사/강습 선택 시 해당 카테고리에 등록된 기존 장르만 필터링하여 노출
  - **직접 입력 모드**: 목록에 없는 장르를 위한 명시적인 '직접 입력' 토글 제공
  - **UX 개선**: 수정 시 카테고리(행사/강습)도 함께 변경되도록 로직 통합

## [2.10.4] - 2025-12-23
- **Feature**: 연습실 상세 모달 모바일 뒤로가기 제스처 지원 추가
- **Feature**: 메인화면(프리뷰)에서 연습실 클릭 시 페이지 이동 없이 모달로 표시 (컨텍스트 유지)

## [2.10.3] - 2025-12-23
- **Fix**: 정규일정(소셜) 모달 모바일 뒤로가기 제스처 지원 추가 (상세/수정/등록 등)
- **Fix**: 메인화면 정규일정 수정 시 화면 즉시 반영 및 모달 자동 닫힘 문제 해결

## [2.10.2] - 2025-12-23
### 새 기능 (New Features)
- **이미지 편집 기능 강화**:
  - 크롭 후 저장/되돌리기 기능 추가 (비파괴 편집)
  - 편집 중 원본 이미지 복원 기능 구현
- **링크 수정 기능 추가**:
  - 이벤트 상세 모달에서 외부 링크(신청하기 등) 직접 수정/추가 지원
  - 링크가 없을 때도 편집 모드에서 '링크 추가' 버튼 표시

### 개선 (Improvements)
- 편집 모달 UI/UX 개선 (저장 버튼 색상 변경, 버튼 배치 최적화)

---

## Version 2.10.1 (2025-12-23)
### 버그 수정 (Bug Fixes)
- **장소 선택 모달 오류 수정**: 이벤트/소셜 스케줄 수정 시 장소 선택이 반영되지 않거나 오류가 발생하는 문제 해결
- **코드 안정성 개선**: `EventList.tsx` 내 불필요한 레거시 코드 및 Lint 오류 정리

---

## Version 2.10.0 (2025-12-23)
### 대대적인 변경 (Major Refactoring)
- **전역 모달 시스템 도입 (Global Modal System)**
  - 모든 모달(24개)을 중앙 집중식(`ModalContext`, `ModalRegistry`)으로 관리
  - `useModal` Hook을 통한 일관된 인터페이스 적용
  - `createPortal`을 사용하여 DOM 계층 구조 및 CSS 충돌(`z-index`, `overflow`) 문제 원천 해결
- **EventList.tsx 전면 리팩토링**
  - 복잡한 로컬 상태(`useState`) 제거 및 전역 상태로 마이그레이션
  - 중복 렌더링 수정 및 성능 최적화
  - 불필요한 레거시 코드(`showPasswordModal` 등) 제거

### 버그 수정
- 소셜 공유 이미지 크롭 모달의 중복 렌더링 문제 해결
- 모달 내 드롭다운/입력창 포커스 문제 개선

---

## Version 2.9.1 (2025-12-22)
### 새 기능
- 소셜 스케줄 링크 기능 추가 (링크 이름/URL 직접 입력)
- 연습실/소셜 등록 시 로그인 유도 오버레이 추가

### 개선
- 연습실 소유자 권한 확인 및 수정 기능 개선
- 연습실 즐겨찾기 스키마 개선

---

## Version 2.8.1 (2025-12-21 저녁)
## Version 2.9.0 (2025-12-21 밤)
### 새 기능
- 장소 입력 탭 통합: "직접 입력"을 장소 선택 모달 내 탭으로 통합
- 강습 장르 선택 UI 개선: 드롭다운 → 탭 버튼 방식으로 변경
- 진행중인 행사 전체보기 레이아웃 개선
  - 가로 카드 레이아웃 (이미지 왼쪽, 정보 오른쪽)
  - 년도/월별 그룹화 표시
  - 시간순 정렬

### 개선
- 이벤트 프리뷰 필터링 로직 변경: 시작일 기준으로 오늘 포함 미래만 표시
- 강습 프리뷰 필터링 로직 변경: 시작일 기준으로 오늘 포함 미래만 표시
- 바텀 네비게이션 순서 조정: 소셜을 연습실 왼쪽으로 이동
- 날짜 표시에 요일 추가
- 장소 선택 모달 CSS 정리 및 최적화

### 버그 수정
- 불필요한 ManualVenueInputModal 컴포넌트 제거
- 중복 렌더링 및 콘솔 로그 정리

---

### 버그 수정
- 연습실 상세 모달 표시 오류 수정 (이중 모달 제거)
- 이벤트 삭제 시 즐겨찾기 오류 수정 (연관 데이터 자동 삭제)
- 장소 선택 모달 과부하 수정 (로그 최적화)

### 개선
- 이벤트 클릭 시 모달 동작 통합

---

## Version 2.8.0 (2025-12-21)
### 새 기능
- 연습실 즐겨찾기 기능 추가
- 쇼핑몰 즐겨찾기 기능 추가
- 햄버거 메뉴 "내 즐겨찾기"에서 통합 모아보기
  - 행사 즐겨찾기
  - 게시글 즐겨찾기
  - 연습실 즐겨찾기 (신규)
  - 쇼핑몰 즐겨찾기 (신규)

---

## Version 2.7.0 (2025-12-21 오후)
### 새 기능
- 햄버거 메뉴 게시판 하위 메뉴 추가
- 공개된 게시판만 동적으로 표시
- 기본 펼침 상태로 설정

---

## Version 2.6.0 (2025-12-21 오전)
### 새 기능
- 게시판 개발일지 탭 추가 (버전 히스토리 표시)

### 버그 수정
- 빌보드 배포판 로그 제거 (프로덕션 보안)
- 빌보드 네트워크 연결 복구 (5초 타임아웃)

---

## Version 2.5.0 (2025-12-21 새벽)
### 새 기능
- 개발일지 자동 반영 시스템

### 개선
- 접속 기록 개선
- 게시판 댓글 수정 및 메뉴 위치 이동

---

## Version 2.4.0 (2025-12-20)
### 새 기능
- 즐겨찾기 게시판 적용

### 개선
- 전체 달력 날짜 UI 개선
- 게시판 카운트 개선
- 게시판 재설정

---

## Version 2.3.0 (2025-12-19 저녁)
### 새 기능
- 즐겨찾기 기능 추가 (행사)
- 키오스크/메인 사이트 로그인 토큰 분리

### 버그 수정
- 아이폰 노치 겹침 수정

### 개선
- 로그인 시간 단축 (개발 환경 최적화)
- 빌보드 개선
- 리듬앤조이 iframe 허용

---

## Version 2.2.0 (2025-12-19 오후)
### 새 기능
- 카카오 공유 기능 추가
- 카카오 공유 이미지 업로드
- 버전 동적 동기화 (package.json 자동 반영)

### 개선
- 공유 버튼 개선

---

## Version 2.1.0 (2025-12-19 오전)
### 새 기능
- 이벤트 등록 스피너 추가 (중복 클릭 방지)
- 실패 시 3번 재시도 로직

### 보안
- 토큰 유효성 재검사 개선
- 로그아웃 후 재로그인 유도

---

## Version 2.0.0 (2025-12-19 새벽)
### 주요 변경 (Major)
- 관리자 권한 시스템 재설계
- 이미지 처리 시스템 개선

### 새 기능
- 슈퍼 관리자 이메일 구분
- 관리자 권한 한계 설정

### 버그 수정
- 이미지 깜빡임 수정
- 이미지 블럼 에러 수정
- 이메일 검증 수정 (무단 삭제 방지)
- 이미지 저장 오류 수정
- 사용자 갱신 오류 수정

### 개선
- 배포에도 콘솔 로그 표시
- 삭제 버튼 제거
- 취약점 수정
- 지나간 이벤트 프리뷰 제거
- 강습/행사 랜덤 표시
- 배포 오류 시 자동 새로고침
- PWA 재배포

---

## Version 1.9.0 (2025-12-18)
### 새 기능
- 댓글 기능 추가

### 개선
- 신청 링크 UI 개선
- 헴버거 버튼 수정
- CSS 개선
- 카카오 로그인 리다이렉트 변경
- 로그인 개선
- 동의 수정
- 게시판 수정
- 로그아웃 경고 개선
- 바텀 메뉴 스크롤 막기

### 버그 수정
- 헤더 찌그러짐 수정
- 헤더 밀림 방지

---

## Version 1.8.0 (2025-12-17)
### 새 기능
- 구글 애널리틱스 추가
- 로컬 개발 통계 제외

### 개선
- 검색 기능 수정
- 로그인 스피너 추가
- 안내 수정
- 하단 아이콘 수정

### 버그 수정
- 서비스 워커 문제 해결
- 생일 필수 항목 추가
- 개인정보 수정
- iframe 허용 재배포
- 전체 달력 버튼 인덱스 해결
- QR 경로 수정

---

## Version 1.7.0 (2025-12-16)
### 개선
- 상품 상세 수정
- UI 개선

---

## Version 1.x (2025-11월 ~ 12월 초)
### 주요 기능
- 카카오 로그인 추가
- 카카오 맵 통합
- QR 코드 컴포넌트
- 이미지 크롭 도구
- 이벤트 날짜 캘린더
- 비디오 임베딩
- 드래그 앤 드롭 개선

---

**개발 시작**: 2025년 11월  
**현재 버전**: 2.8.0  
**총 커밋**: 100+

**버전 번호 규칙**:
- **Major (X.0.0)**: 대규모 변경, 호환성 깨짐
- **Minor (0.X.0)**: 새 기능 추가, 하위 호환 유지
- **Patch (0.0.X)**: 버그 수정, 작은 개선
